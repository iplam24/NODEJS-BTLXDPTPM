<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link rel="stylesheet" href="/css/signup.css">
    <link rel="stylesheet" href="/js/signup.js">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Form ÄÄƒng Nháº­p</title>
    <script src="https://www.google.com/recaptcha/api.js" async defer></script>
    <title>Login</title>
</head>

    <body>

        <header class="fixed-header">
            <div class="logo"><img src="https://storage.googleapis.com/dev-vinfast-vn-cmu-data/2022/08/00b5ffc0-vin-logo-vertical.png" alt=""></div>
            <nav class="menu-nav">
                <ul class="menu-list">
                    <li class="menu-item"><a href="/">Trang chá»§</a></li>
                    <li class="menu-item"><a href="/sanpham">Sáº£n pháº©m</a></li>
                    <li class="menu-item"><a href="/lienhe">LiÃªn há»‡</a></li>
                    <% if (session && session.user) { %>
                        <li class="menu-item mobile-only" style="margin-left: auto;">
                            <a href="#">Xin chÃ o, <%= session.user.usernameLogin %></a>
                        </li>
                        <li class="menu-item mobile-only">
                            <a href="#" onclick="confirmLogout()">ÄÄƒng xuáº¥t</a>
                        </li>
                    <% } else { %>
                        <li class="menu-item mobile-only" style="margin-left: auto;"><a href="/dangnhap">ÄÄƒng nháº­p</a></li>
                        <li class="menu-item mobile-only"><a href="/dangky">ÄÄƒng kÃ½</a></li>
                    <% } %>
                </ul>

            
        </header>
    
        <div class="content">
            <div class="container">
                
                
                <h2>ÄÄƒng kÃ½</h2>
                <form action="/dangky-taikhoan" class="signup-form" method="post">
                    
                    
                    <label>TÃ i khoáº£n</label>
                    <div class="inputForm">
                        <input type="text" class="input" placeholder="Nháº­p vÃ o tÃªn tÃ i khoáº£n" value="<%= oldData?.username || '' %>" name="username">
                    </div>
        
                    <label>Máº­t kháº©u</label>
                    <div class="inputForm">
                        <input type="password" class="input" placeholder="Nháº­p vÃ o máº­t kháº©u" name="password" id="password">
                        <span class="togglePassword">ğŸ‘</span>
                    </div>

                    <label>Nháº­p láº¡i máº­t kháº©u</label>
                    <div class="inputForm">
                        <input type="password" class="input" placeholder="Nháº­p vÃ o máº­t kháº©u" name="repassword" id="password">
                        <span class="togglePassword">ğŸ‘</span>
                    </div>

                    <label>Há» vÃ  tÃªn</label>
                    <div class="inputForm">
                        <input type="text" class="input" id="Fullname" placeholder="Há» vÃ  tÃªn" value="<%= oldData.myname || '' %>" name="myname">
                        
                    </div>

                    <label>Email</label>
                    <div class="inputForm">
                        <input type="text" class="input" id="email" placeholder="Nháº­p vÃ o email" 
                            value="<%= oldData.email || '' %>" name="email">
                    </div>
                    <p id="error" style="color:red;"></p>
        
                    <label>Sá»‘ Ä‘iá»‡n thoáº¡i</label>
                    <div class="inputForm">
                        <input type="number" class="input" id="Phone" placeholder="Sá»‘ Ä‘iá»‡n thoáº¡i" value="<%= oldData.phone || '' %>" name="phone">
                    </div>

                    <label>Äá»‹a chá»‰</label>
                    <div class="inputForm">
                        <input type="text" class="input" id="Address" placeholder="Nháº­p vÃ o Ä‘á»‹a chá»‰" value="<%= oldData.address || '' %>" name="address">
                    </div>
                    <% if (message) { %>
                        <p style="color: red;"><%= message %></p>
                    <% } %>
                    <div class="g-recaptcha" data-sitekey="6LdghPkqAAAAAPMG7h_IriVYUNB6RWCYv4dh1N4d"></div>
                    <button class="button-submitt">ÄÄƒng kÃ½</button> 
        
                    <p>Báº¡n Ä‘Ã£ cÃ³ tÃ i khoáº£n? <a href="/dangnhap">ÄÄƒng nháº­p</a></p>
                </form>
            </div>
        </div>


        <script>
            document.querySelector(".signup-form").addEventListener("submit", function(event) {
                var email = document.getElementById("email").value;
                var regex = /^[a-zA-Z0-9._%+-]+@gmail\.com$/;
                var errorElement = document.getElementById("error");
            
                if (!regex.test(email)) {
                    errorElement.innerText = "Email khÃ´ng há»£p lá»‡! Vui lÃ²ng nháº­p Ä‘Ãºng Ä‘á»‹a chá»‰ Ä‘á»‹a chá»‰ Gmail.";
                    event.preventDefault(); // Cháº·n form gá»­i Ä‘i
                } else {
                    errorElement.innerText = "";
                }
            });
            document.querySelector(".signup-form").addEventListener("submit", function(event) {
    var response = grecaptcha.getResponse();
    if (response.length === 0) {
        alert("Vui lÃ²ng xÃ¡c minh CAPTCHA!");
        event.preventDefault();
    }
});

            </script>
            
       
        
    
    </body>
    <script src="/js/signup.js"></script>
    <script src="/js/lam.js"></script>
</html>