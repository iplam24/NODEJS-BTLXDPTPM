<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link rel="stylesheet" href="/css/signup.css">
    <link rel="stylesheet" href="/js/signup.js">
    <title>Login</title>
</head>

    <body>

        <header class="fixed-header">
            <div class="logo"><img src="https://storage.googleapis.com/dev-vinfast-vn-cmu-data/2022/08/00b5ffc0-vin-logo-vertical.png" alt=""></div>
            <nav class="menu-nav">
                <ul class="menu-list">
                    <li class="menu-item"><a href="/">Trang ch·ªß</a></li>
                    <li class="menu-item"><a href="/sanpham">S·∫£n ph·∫©m</a></li>
                    <li class="menu-item"><a href="/lienhe">Li√™n h·ªá</a></li>
                    <% if (session && session.user) { %>
                        <li class="menu-item mobile-only" style="margin-left: auto;">
                            <a href="#">Xin ch√†o, <%= session.user.usernameLogin %></a>
                        </li>
                        <li class="menu-item mobile-only">
                            <a href="#" onclick="confirmLogout()">ƒêƒÉng xu·∫•t</a>
                        </li>
                    <% } else { %>
                        <li class="menu-item mobile-only" style="margin-left: auto;"><a href="/dangnhap">ƒêƒÉng nh·∫≠p</a></li>
                        <li class="menu-item mobile-only"><a href="/dangky">ƒêƒÉng k√Ω</a></li>
                    <% } %>
                </ul>

            
        </header>
    
        <div class="content">
            <div class="container">
                
                
                <h2>ƒêƒÉng k√Ω</h2>
                <form action="/dangky-taikhoan" class="signup-form" method="post">
                    
                    
                    <label>T√†i kho·∫£n</label>
                    <div class="inputForm">
                        <input type="text" class="input" placeholder="Nh·∫≠p v√†o t√™n t√†i kho·∫£n" value="<%= oldData?.username || '' %>" name="username">
                    </div>
        
                    <label>M·∫≠t kh·∫©u</label>
                    <div class="inputForm">
                        <input type="password" class="input" placeholder="Nh·∫≠p v√†o m·∫≠t kh·∫©u" name="password" id="password">
                        <span class="togglePassword">üëÅ</span>
                    </div>

                    <label>Nh·∫≠p l·∫°i m·∫≠t kh·∫©u</label>
                    <div class="inputForm">
                        <input type="password" class="input" placeholder="Nh·∫≠p v√†o m·∫≠t kh·∫©u" name="repassword" id="password">
                        <span class="togglePassword">üëÅ</span>
                    </div>

                    <label>H·ªç v√† t√™n</label>
                    <div class="inputForm">
                        <input type="text" class="input" id="Fullname" placeholder="H·ªç v√† t√™n" value="<%= oldData.myname || '' %>" name="myname">
                        
                    </div>

                    <label>Email</label>
                    <div class="inputForm">
                        <input type="text" class="input" id="email" placeholder="Nh·∫≠p v√†o email" 
                            value="<%= oldData.email || '' %>" name="email">
                    </div>
                    <p id="error" style="color:red;"></p>
        
                    <label>S·ªë ƒëi·ªán tho·∫°i</label>
                    <div class="inputForm">
                        <input type="number" class="input" id="Phone" placeholder="S·ªë ƒëi·ªán tho·∫°i" value="<%= oldData.phone || '' %>" name="phone">
                    </div>

                    <label>ƒê·ªãa ch·ªâ</label>
                    <div class="inputForm">
                        <input type="text" class="input" id="Address" placeholder="Nh·∫≠p v√†o ƒë·ªãa ch·ªâ" value="<%= oldData.address || '' %>" name="address">
                    </div>
                    <% if (message) { %>
                        <p style="color: red;"><%= message %></p>
                    <% } %>
                    <button class="button-submitt">ƒêƒÉng k√Ω</button> 
        
                    <p>B·∫°n ƒë√£ c√≥ t√†i kho·∫£n? <a href="/dangnhap">ƒêƒÉng nh·∫≠p</a></p>
                </form>
            </div>
        </div>


        <script>
            document.querySelector(".signup-form").addEventListener("submit", function(event) {
                var email = document.getElementById("email").value;
                var regex = /^[a-zA-Z0-9._%+-]+@gmail\.com$/;
                var errorElement = document.getElementById("error");
            
                if (!regex.test(email)) {
                    errorElement.innerText = "Email kh√¥ng h·ª£p l·ªá! Vui l√≤ng nh·∫≠p ƒë√∫ng ƒë·ªãa ch·ªâ ƒë·ªãa ch·ªâ Gmail.";
                    event.preventDefault(); // Ch·∫∑n form g·ª≠i ƒëi
                } else {
                    errorElement.innerText = "";
                }
            });
            </script>
            
       
        
    
    </body>
    <script src="/js/signup.js"></script>
    <script src="/js/lam.js"></script>
</html>